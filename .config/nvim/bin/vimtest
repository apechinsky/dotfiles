#!/bin/bash

#
# This script is used to test vim configurations.
#
# Create directory (XDG_HOME) that will host XDG_xxx dirs.
# Put neovim configuration to $XDG_HOME/.config/nvim directory.
# Export XDG_HOME and run neovim via this script.
#
# So your original vim configuration at $HOME will remain untouched.
#

xdgHome=$XDG_HOME

if [[ ! -d $xdgHome ]]; then
    echo "XDG_HOME env variable was not specified."
    exit 1
fi

export XDG_CONFIG_HOME=$xdgHome/.config
export XDG_STATE_HOME=$xdgHome/.local/state
export XDG_DATA_HOME=$xdgHome/.local/share
export XDG_CACHE_HOME=$xdgHome/.cache

mkdir -p "$XDG_CONFIG_HOME"
mkdir -p "$XDG_STATE_HOME"
mkdir -p "$XDG_DATA_HOME"
mkdir -p "$XDG_CACHE_HOME"

nvim "$@"
